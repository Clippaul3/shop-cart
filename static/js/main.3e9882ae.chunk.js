(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,n){},178:function(e,t,n){e.exports=n(318)},220:function(e,t){},299:function(e,t,n){},318:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),u=n.n(c),l=n(174),i=n(29),o=n(30),d=n(32),s=n(31),p=n(33),f=function(e,t){return t.map(function(t){return e[t]})},m=n(322),h=n(323),y=(n(81),n(148),m.a.Option),b=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return(n=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).size=function(e){for(var t=[],n="0";n<e.length;n++)t.push(r.a.createElement(y,{value:e[n],key:e[n]},e[n]));return t},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.products,a=t.addToCart,c=t.select,u=t.addToSize,l=(0===c.productSize.length?n:c.productSize).map(function(t,n){return r.a.createElement("li",{key:n},r.a.createElement("div",{className:"pname"},r.a.createElement("img",{src:"./static/products/".concat(t.sku,"_1.jpg"),alt:""}),r.a.createElement("div",null,t.title),r.a.createElement("div",null,"price:$",t.price),r.a.createElement("div",null,"installments:",t.installments,"*",Math.round(t.price/t.installments*100)/100,"$")),r.a.createElement("div",null,r.a.createElement(m.a,{style:{width:"100px"},onChange:function(e){u(e,t.id)}},e.size(t.availableSizes))),r.a.createElement("div",null,r.a.createElement(h.a,{type:"primary",onClick:function(){return a(t.id)},disabled:!t.installments,style:{color:"#000000",backgroundColor:"#e8e8e8",borderColor:"#f5f5f5"}},r.a.createElement("p",{style:{margin:"auto",lineHeight:"0px"}},"\u6dfb\u52a0\u8d2d\u7269\u8f66"))))});return r.a.createElement("div",null,r.a.createElement("ul",{className:"item"},l))}}]),t}(r.a.Component),v=Object(c.connect)(function(e){var t=e.products,n=e.selected;return{products:f(t.byId,t.result),select:n}},function(e){return{addToCart:function(t){return e({type:"cart/add",payload:{id:t}})},addToSize:function(t,n){return e({type:"cart/addValue",payload:{value:t,id:n}})}}})(b),g=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=this.props.addToSize,t=m.a.Option,n=[],a=["XS","S","M","ML","L","XL","XXL"],c=0;c<7;c++)n.push(r.a.createElement(t,{key:a[c]},a[c]));return r.a.createElement("div",{style:{marginTop:"100px"}},r.a.createElement("span",{style:{fontSize:"30px"}},"Size:"),r.a.createElement(m.a,{mode:"tags",size:"large",placeholder:"Please select",defaultValue:a,onChange:function(t){e(t)},style:{width:"100%",lineHeight:"100px"}},n))}}]),t}(r.a.Component),E=Object(c.connect)(null,function(e){return{addToSize:function(t){return e({type:"selected/add",payload:{size:t}})}}})(g),O=n(25),z=n(11),j=n(326),S=n(324),k=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,placement:"right"},n.showDrawer=function(){n.setState({visible:!0})},n.onClose=function(){n.setState({visible:!1})},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.products,n=e.subtotal,a=e.onCheckout,c=e.loading,u=e.checking,l=e.num,i=e.deleteProducts,o=t.map(function(e,t){return r.a.createElement("li",{key:t},e.title," ",e.size," ",r.a.createElement("hr",null)," ",e.price," x ",e.quantity,r.a.createElement(h.a,{onClick:function(){return i(e.ids,e.quantity)},style:{width:"20px",height:"20px",padding:"0",float:"right"}},r.a.createElement(z.a,{type:"close",style:{fontSize:"20px"}})))});return r.a.createElement("div",{style:{display:"flex",width:"100%",paddingTop:"20px"}},r.a.createElement(h.a,{style:{height:"64px",display:"flex",marginLeft:"auto",border:"none"},onClick:this.showDrawer},r.a.createElement("span",{style:{marginRight:24}},r.a.createElement(j.a,{count:l},r.a.createElement(z.a,{type:"shopping-cart",style:{fontSize:"50px"}})))),r.a.createElement(S.a,{title:"Basic Drawer",placement:this.state.placement,closable:!1,onClose:this.onClose,visible:this.state.visible},r.a.createElement("ul",null,o),r.a.createElement("div",null,"Total: ",n),r.a.createElement("div",null,u&&r.a.createElement("div",{style:{color:"red"}},"Checking ..."),r.a.createElement(h.a,{onClick:a,disabled:n<=0||c},r.a.createElement("p",{style:{margin:"auto",lineHeight:"0px"}},"Checkout")))))}}]),t}(r.a.Component),w=Object(c.connect)(function(e){var t=e.cart,n=e.products,a=e.loading;return{products:t.added.map(function(e){return Object(O.a)({},n.byId[parseInt(e)],{size:e.replace(/[^a-zA-Z]/g,""),ids:e,quantity:t.quantities[e]})}),subtotal:t.added.reduce(function(e,a){return n.byId[parseInt(a)].price*t.quantities[a]+e},0).toFixed(2),loading:a.models.cart,checking:a.effects["cart/checkout"],num:t.num}},function(e){return{onCheckout:function(){return e({type:"cart/checkout"})},deleteProducts:function(t,n){return e({type:"cart/delete",payload:{log:t,num:n}})}}})(k),x=(n(299),n(325)),C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).Highest=function(){},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=m.a.Option,t=this.props,n=t.products,a=t.select,c=t.OnChange,u=[r.a.createElement(e,{key:"default"},"default sort"),r.a.createElement(e,{key:"Highest"},"Highest to lowest"),r.a.createElement(e,{key:"lowest"},"lowest to Highest")];return r.a.createElement("div",null,r.a.createElement("h1",null,0===a.productSize.length?n.length:a.productSize.length," Product(s)found"),r.a.createElement("div",{id:"components-dropdown-demo-dropdown-button"},r.a.createElement(m.a,{defaultValue:"default sort",onChange:function(e){return c(e,a.size)},style:{width:200}},u)))}}]),t}(r.a.Component),T=Object(c.connect)(function(e){var t=e.products,n=e.selected;return{products:f(t.byId,t.result),select:n}},function(e){return{OnChange:function(t,n){return e({type:"selected/add",payload:{change:t,size:n}})}}})(C),q=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"products/query"})}},{key:"render",value:function(){var e=x.a.Header,t=x.a.Footer,n=x.a.Sider,a=x.a.Content;return r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(n,null," ",r.a.createElement(E,null)," "),r.a.createElement(x.a,null,r.a.createElement(e,null,r.a.createElement(w,null)),r.a.createElement(a,null,r.a.createElement(T,null),r.a.createElement(v,null)),r.a.createElement(t,null))))}}]),t}(r.a.Component),H=Object(c.connect)()(q),I=n(12),L=n.n(I),X=n(120),P=n(172),A=n.n(P),M=function(){return A.a.get("products.json")},D=function(e){return new Promise(function(t,n){return setTimeout(function(){return t(e)},2e3)})},N=new X.b.Entity("products"),V={namespace:"products",state:{result:[],byId:{}},effects:{query:L.a.mark(function e(t,n){var a,r,c;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,e.next=3,a(M);case 3:return c=e.sent,e.next=6,r({type:"setProducts",payload:Object(X.a)(c.data,[N])});case 6:case"end":return e.stop()}},e)})},reducers:{setProducts:function(e,t){var n=t.payload;return Object(O.a)({},e,{byId:n.entities.products,result:n.result})}}},F=n(71),J=n(122),$={added:[],quantities:{},addedSelect:[],num:0,addSize:[]},B={namespace:"cart",state:$,effects:{add:L.a.mark(function e(t,n){var a,r,c,u,l,i,o,d;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload.id,r=n.put,c=n.select,e.next=4,c(function(e){return e.products.byId[a]});case 4:return e.sent,e.next=7,c();case 7:for(u=e.sent,l=u.cart,i=0,o=l.addSize[0].value;a!==l.addSize[i].id;)o=l.addSize[i+1].value,i++;return d=l.num+1,e.next=16,r({type:"addToCart",payload:{id:a+o,num:d}});case 16:case"end":return e.stop()}},e)}),addValue:L.a.mark(function e(t,n){var a,r,c,u,l,i,o,d,s;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=a.value,c=a.id,u=n.put,l=n.select,e.next=4,l();case 4:for(i=e.sent,o=i.cart,d=[{id:c,value:r}],s="0";s<o.addSize.length;s++)d[0].id!==o.addSize[s].id&&d.push(o.addSize[s]);return e.next=10,u({type:"addSize",payload:{addSize:d}});case 10:case"end":return e.stop()}},e)}),checkout:L.a.mark(function e(t,n){var a,r,c,u,l,i;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.put,c=n.select,e.next=4,c();case 4:return u=e.sent,l=u.cart,e.next=8,a(D,l);case 8:return i=e.sent,e.next=11,r({type:"checkoutCompleted",payload:i});case 11:case"end":return e.stop()}},e)}),delete:L.a.mark(function e(t,n){var a,r,c,u,l,i,o,d,s,p;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=a.log,c=a.num,u=n.put,l=n.select,e.next=4,l();case 4:return i=e.sent,o=i.cart,d=function(e){return e!==r},s=o.num-c,p=o.added.filter(d),e.next=11,u({type:"deletelog",payload:{deleteAdded:p,deleteNum:s,log:r}});case 11:case"end":return e.stop()}},e)})},reducers:{addToCart:function(e,t){var n=t.payload,a=n.id,r=n.num;return Object(O.a)({},e,{added:e.added.includes(a)?Object(J.a)(e.added):[].concat(Object(J.a)(e.added),[a]),quantities:Object(O.a)({},e.quantities,Object(F.a)({},a,(e.quantities[a]||0)+1)),num:r})},addSize:function(e,t){var n=t.payload.addSize;return Object(O.a)({},e,{addSize:n})},checkoutCompleted:function(){return $},deletelog:function(e,t){var n=t.payload,a=n.deleteAdded,r=n.deleteNum,c=n.log;return Object(O.a)({},e,{added:a,num:r,quantities:Object(O.a)({},e.quantities,Object(F.a)({},c,0))})}}},R={namespace:"selected",state:{size:["XS","S","M","ML","L","XL","XXL"],productSize:[],change:"default"},effects:{add:L.a.mark(function e(t,n){var a,r,c,u,l,i,o,d,s,p;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=a.size,c=a.change,u=n.put,l=n.call,e.next=4,l(M);case 4:return i=e.sent,o=function(e){for(var t=0;t<r.length;t++)for(var n=0;n<e.availableSizes.length;n++)if(r[t]===e.availableSizes[n])return e},d=i.data.filter(o),s=c,p=i.data.filter(o),e.next=11,u({type:"addToSize",payload:{size:r,productSize:d,changes:s,products:p}});case 11:case"end":return e.stop()}},e)})},reducers:{addToSize:function(e,t){var n=t.payload,a=n.size,r=n.productSize,c=n.changes,u=n.products;return Object(O.a)({},e,{size:a,productSize:"default"===c?u:"Highest"===c?r.sort(function(e,t){return t.price-e.price}):r.sort(function(e,t){return e.price-t.price}),change:c})}}},Z=u()();Z.model(V),Z.model(B),Z.model(R),Z.use(Object(l.a)()),Z.router(function(){return r.a.createElement(H,null)}),Z.start("#root")}},[[178,1,2]]]);
//# sourceMappingURL=main.3e9882ae.chunk.js.map