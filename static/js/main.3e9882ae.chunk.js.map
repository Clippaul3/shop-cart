{"version":3,"sources":["utils/utils.js","components/ProductList.js","components/Select.js","components/Cart.js","components/Nav.js","components/App.js","api/shop.js","models/products.js","models/cart.js","models/select.js","index.js"],"names":["d","byId","result","map","id","Option","Select","ProductList","size","e","i","length","push","react_default","a","createElement","ProductList_Option","value","key","_this2","this","_this$props","props","products","addToCart","select","addToSize","list","productSize","item","className","src","concat","sku","alt","title","price","installments","Math","round","es_select","style","width","onChange","availableSizes","es_button","type","onClick","disabled","color","backgroundColor","borderColor","margin","lineHeight","React","Component","connect","_ref","selected","dispatch","payload","SelectSizesDemo","children","childrens","marginTop","fontSize","mode","placeholder","defaultValue","Cart","state","visible","placement","showDrawer","_this","setState","onClose","subtotal","onCheckout","loading","checking","num","deleteProducts","nodes","quantity","ids","height","padding","float","icon","display","paddingTop","marginLeft","border","marginRight","badge","count","drawer","closable","cart","added","Object","objectSpread2","parseInt","replace","quantities","reduce","amount","toFixed","models","effects","log","Nav","Highest","OnChange","change","App","Header","Layout","Footer","Sider","Content","layout","components_Cart","components_Nav","src_components_ProductList","shop","axios","get","Promise","resolve","reject","setTimeout","schema","Entity","models_products","namespace","query","regenerator_default","mark","action","call","put","res","wrap","_context","prev","next","sent","normalize","data","stop","reducers","setProducts","_ref2","entities","initialState","addedSelect","addSize","models_cart","add","_ref3","addValue","_ref4","_ref5","_ref4$payload","_ref6","x","_context2","checkout","_ref7","_ref8","_ref9","_context3","delete","_delete","_ref10","_ref11","_ref10$payload","_ref12","checkAdult","deleteNum","deleteAdded","_context4","logs","filter","_ref13","_ref13$payload","includes","toConsumableArray","defineProperty","_ref14","checkoutCompleted","deletelog","_ref15","_ref15$payload","models_select","_ref$payload","changes","product","s","_ref3$payload","sort","b","app","dva","model","use","createLoading","router","components_App","start"],"mappings":"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","file":"static/js/main.3e9882ae.chunk.js","sourcesContent":["\nexport const d = (byId, result) => result.map(id => byId[id])\n","import React from 'react';\nimport { connect } from 'dva';\nimport { d } from '../utils/utils';\nimport {  Button , Select} from 'antd';\nimport 'antd/dist/antd.css';\nimport './ProductList.css';\n\n\n\nconst { Option } = Select;\nclass ProductList extends React.Component {\n size=(e)=>{\n var  size=[];\n  for (var i='0'; i<e.length;i++){\n  size.push(<Option value={e[i]} key={e[i]}>{e[i]}</Option>)\n  };\n \n  return size ;\n }\n\n \n render() {\n   \n    const { products, addToCart, select,addToSize } = this.props;\n    const list = (select.productSize.length === 0 ? products : select.productSize).map((item, key) => (\n      <li key={key}>\n        <div className='pname'>\n          <img src={`./static/products/${item.sku}_1.jpg`} alt=\"\" />\n          <div>{item.title}</div>\n          <div>price:${item.price}</div>\n          <div>installments:{item.installments}*{Math.round((item.price / item.installments) * 100) / 100}$</div>\n        </div>\n        <div>\n        <Select style={{ width: '100px' }} onChange={(value)=>{addToSize(value,item.id)}}>\n          {this.size(item.availableSizes)}\n          </Select>\n        </div>\n        <div>\n          <Button type=\"primary\" onClick={() => addToCart(item.id)} disabled={!item.installments} style={{ color: '#000000', backgroundColor: \"#e8e8e8\", borderColor: '#f5f5f5' }}><p style={{ margin: 'auto', lineHeight: '0px' }}>添加购物车</p></Button>\n        </div>\n      </li>\n    ));\n    \n\n    return (\n      <div>\n\n          \n        <ul className='item'>\n          {list}\n        </ul>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = ({ products, selected }) => ({\n  products: d(products.byId, products.result),\n  select: selected,\n  \n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  addToCart: (id) => dispatch({\n    type: 'cart/add',\n    payload: {\n      id\n    }\n  }),\n  addToSize:(value,id)=>dispatch({\n    type: 'cart/addValue',\n    payload: {\n      value,id\n    }\n  }),\n    \n  \n})\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductList);","\r\nimport React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport {connect} from 'dva';\r\nimport { Select } from 'antd';\r\n\r\nclass SelectSizesDemo extends React.Component {\r\n  \r\n \r\nrender() {\r\n  const {  addToSize } = this.props;\r\n  const { Option } = Select;\r\n  const children = [];\r\n  const childrens =['XS', 'S', 'M', 'ML', 'L', 'XL', 'XXL'];\r\n  //   const handleChange=(value) =>{\r\n  // //    addToCart(`Selected: ${value}`)\r\n  //     console.log(value);\r\n  //   }\r\n  for (let i = 0; i < 7; i++) {\r\n    children.push(<Option key={childrens[i]}>{childrens[i]}</Option>);\r\n  }\r\n   \r\n    return (\r\n      <div style={{marginTop:'100px'}}>\r\n        <span style={{fontSize:'30px'}}>Size:</span>\r\n        <Select \r\n          mode=\"tags\"\r\n          size={'large'}\r\n          placeholder=\"Please select\"\r\n          defaultValue={childrens}\r\n          onChange={(value)=>{addToSize(value)}}\r\n          style={{ width: '100%' ,lineHeight:'100px'}}\r\n        >\r\n          {children}\r\n        </Select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addToSize:(size) =>dispatch({\r\n    type: 'selected/add',\r\n    payload: {\r\n      size:size\r\n    }\r\n    \r\n  })\r\n})\r\nexport default connect(null,mapDispatchToProps)(SelectSizesDemo);\r\n","import React from 'react';\nimport { connect } from 'dva';\nimport { Drawer, Button, Badge,Icon } from \"antd\";\nclass Cart extends React.Component {\n  state = { visible: false, placement: \"right\" };\n\n  showDrawer = () => {\n    this.setState({\n      visible: true\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      visible: false\n    });\n  };\n\n\n  render() {\n   \n    \n    const { products, subtotal, onCheckout, loading, checking,num,deleteProducts } = this.props;\n    const nodes = products.map((item, key) => (\n      <li key={key}>\n        {item.title} {item.size} <hr/> {item.price} x {item.quantity}\n        <Button onClick={()=>deleteProducts(item.ids,item.quantity)} style={{width:'20px',height:'20px',padding:'0',float:'right'}}><Icon type=\"close\" style={{ fontSize: '20px' }}/></Button>\n      </li>\n    ));\n    \n    return (\n      <div style={{ display: 'flex', width: \"100%\" ,paddingTop:'20px'}}>\n        <Button style={{ height: '64px', display: 'flex', marginLeft: 'auto', border: \"none\" }} onClick={this.showDrawer}>\n          <span style={{ marginRight: 24 }} >\n            <Badge count={num}>\n            <Icon type=\"shopping-cart\" style={{ fontSize: '50px' }} />\n            </Badge>\n          </span>\n        </Button>\n        <Drawer\n          title=\"Basic Drawer\"\n          placement={this.state.placement}\n          closable={false}\n          onClose={this.onClose}\n          visible={this.state.visible}\n        >\n          <ul>{nodes}</ul>\n          <div>Total: {subtotal}</div>\n          <div>\n            {checking && <div style={{ color: 'red' }}>Checking ...</div>}\n            <Button onClick={onCheckout} disabled={subtotal <= 0.00 || loading} ><p style={{ margin: 'auto', lineHeight: '0px' }}>Checkout</p></Button>\n          </div>\n        </Drawer>\n\n      </div>\n    );\n  };\n\n}\n\n\nconst mapStateToProps = ({ cart, products, loading }) => ({\n  products: cart.added.map(id => ({ ...products.byId[parseInt(id)], size:id.replace(/[^a-zA-Z]/g, '') ,ids:id,quantity: cart.quantities[id] })),\n  subtotal: cart.added.reduce((amount, id) => products.byId[parseInt(id)].price * cart.quantities[id] + amount, 0).toFixed(2),\n  loading: loading.models['cart'],\n  checking: loading.effects['cart/checkout'],\n  num:cart.num\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n   onCheckout: () => dispatch({\n    type: 'cart/checkout'\n  }),\n   deleteProducts:(log,num)=>dispatch({\n    type: 'cart/delete',\n    payload:{log,num} \n  })\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n","import React from 'react';\r\nimport { connect } from 'dva';\r\nimport { d } from '../utils/utils';\r\nimport { Select } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './ProductList.css';\r\n\r\n\r\n\r\n\r\nclass Nav extends React.Component {\r\n  Highest=()=>{\r\n\r\n  }\r\n render() {\r\n    const { Option } = Select;\r\n    const { products, select , OnChange} = this.props;\r\n   \r\n const children = [ <Option key={ \"default\"}>{ \"default sort\"}</Option>,<Option key={ \"Highest\"}>{ \"Highest to lowest\"}</Option>,<Option key={ \"lowest\"}>{ \"lowest to Highest\"}</Option>];\r\n  \r\n\r\n    return (\r\n      <div>\r\n        <h1>{(select.productSize.length === 0 ? products.length : select.productSize.length)} Product(s)found</h1>\r\n        <div id=\"components-dropdown-demo-dropdown-button\">\r\n\r\n          \r\n          <Select\r\n          defaultValue=\"default sort\"\r\n          onChange={(value)=>OnChange(value,select.size)}\r\n          style={{ width: 200 }}\r\n        >\r\n          {children}\r\n        </Select>\r\n         \r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = ({ products, selected }) => ({\r\n    products: d(products.byId, products.result),\r\n    select: selected\r\n  \r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  OnChange: (change,size) => dispatch({\r\n     type: 'selected/add',\r\n     payload: {\r\n       change,\r\n       size\r\n     }\r\n   }),\r\n  \r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav);","import React from 'react';\nimport { connect } from 'dva';\n//import { getAllProducts } from '../reducers/products';\nimport ProductList from './ProductList';\nimport SelectSizesDemo from './Select';\nimport Cart from './Cart';\nimport 'antd/dist/antd.css';\nimport './index.css';\nimport { Layout } from 'antd';\nimport Nav from './Nav'\n\nclass App extends React.Component {\n    componentDidMount () {\n        const { dispatch } = this.props;\n\n        dispatch({\n            type:'products/query'\n        });\n    }\n\n    render () { \n        const { Header, Footer, Sider, Content } = Layout;\n        return <div>\n        <Layout>\n      <Sider > <SelectSizesDemo/> </Sider>\n      <Layout>\n        <Header><Cart/></Header>\n        <Content><Nav/><ProductList/></Content>\n        <Footer></Footer>\n      </Layout>\n      </Layout>\n       \n        </div>\n    }\n}\n\nexport default connect()(App);\n","/**\n * Mocking client-server processing\n */\nimport axios from 'axios'\n\nexport default {\n  getProducts: () => axios.get('products.json'),\n  buyProducts: (payload) => new Promise((resolve, reject) => setTimeout(() => resolve(payload), 2000)) //只是为了模拟axios.post的效果\n}\n","import { normalize, schema } from \"normalizr\";\n\nimport shop from \"../api/shop\";\n\n// 关于normalizr库，与官方示例直接用byId, allIds去组织还别扭\n// 此处仅仅是为了尝试下引入这个库的效果，它的用法还有待深入\n// 但是不论哪一种写法，无揭示了一个问题，如果state需要相关引用，\n// 根据ID组织状态是一个合理的方式。\nconst products = new schema.Entity(\"products\");\n\nexport default {\n  namespace: \"products\",\n  state: {\n    result: [], \n    byId: {}\n  },\n  effects: {\n    *query(action, { call, put }) {\n      const res = yield call(shop.getProducts);\n     \n      yield put({\n        type: \"setProducts\",\n        payload: normalize(res.data, [products])\n      });\n      \n\n    }\n  },\n  reducers: {\n    setProducts: (state, { payload }) => {\n      return {\n        ...state,\n        byId: payload.entities.products,\n        result: payload.result\n      };\n    },\n    // decinstallments: (state, { payload: { id } }) => {\n    //   const selected = state.byId[id];\n    //   return {\n    //     ...state,\n    //     byId: {\n    //       ...state.byId,\n    //       [id]: { ...selected, installments: selected.installments - 1 }\n    //     }\n    //   };\n    // }\n  }\n};\n","import shop from \"../api/shop\";\n\nconst initialState = {\n    added: [],\n    quantities: {\n    },\n    addedSelect:[],\n    num:0,\n    addSize:[]\n  }\nexport default {\n  namespace: \"cart\",\n  state: initialState,\n  effects: {\n    *add({payload: { id }}, {  put, select }) {\n      const product = yield select(state => state.products.byId[id]);\n      const { cart } = yield select();\n      var i=0;\n      var size=cart.addSize[0].value;\n      while(id!==cart.addSize[i].id){\n        size=cart.addSize[i+1].value;\n         i++;\n      };\n      const num=cart.num+1;\n     \n        yield put({\n          type: 'addToCart',\n          payload: {\n            id:id+size,\n            num,\n           \n          }\n        })\n      \n   },\n   *addValue({payload: { value,id }}, {  put, select }) {\n    const { cart } = yield select();\n   var x=[{id:id,value:value}];\n    for(var i='0';i<cart.addSize.length;i++){\n      if(x['0'].id !== cart.addSize[i].id){\n        x.push(cart.addSize[i])\n      }\n    }\n      yield put({\n        type: 'addSize',\n        payload: {\n          addSize:x\n        }\n      })\n    \n },\n\n    *checkout( {payload}, {call, put, select}) {\n      const { cart } = yield select();\n      const res = yield call(shop.buyProducts, cart);\n      yield put({\n        type: \"checkoutCompleted\",\n        payload: res\n      });\n    },\n    *delete({payload: { log,num }}, {  put, select }){\n      const { cart } = yield select();\n      const checkAdult=(logs)=> {return logs!==log};\n      const deleteNum=cart.num-num\n      const deleteAdded=cart.added.filter(checkAdult);\n     \n      yield put({\n        type: \"deletelog\",\n        payload: {\n          deleteAdded:deleteAdded,\n          deleteNum:deleteNum,\n         log:log\n        }\n      });\n    }\n  },\n  reducers: {\n    addToCart: (state, { payload: { id,num } }) => {\n\n      return {\n        ...state,\n        added: state.added.includes(id) ? [...state.added] : [...state.added, id],\n        quantities: {\n          ...state.quantities,\n          [id]: (state.quantities[id] || 0) + 1\n        },\n        num:num\n      }\n    },\n    addSize: (state, { payload: { addSize } }) => {\n      \n      return {\n        ...state,addSize\n        }\n        \n      \n    },\n    checkoutCompleted: () => initialState,\n    deletelog:(state,{payload:{deleteAdded,deleteNum,log}})=>{\n      return {\n        ...state,\n        added:deleteAdded,\n        num:deleteNum,\n        quantities:{\n          ...state.quantities,\n          [log]:0\n        }\n      }\n    }\n  }\n};\n\n","import shop from \"../api/shop\";\r\n\r\n\r\nexport default {\r\n  namespace: \"selected\",\r\n  state: {size: ['XS', 'S', 'M', 'ML', 'L', 'XL', 'XXL'],\r\n  productSize:[],\r\n  change:'default',\r\n  },\r\n  \r\n  effects: {\r\n    \r\n    *add({payload: { size ,change}}, {  put ,call }) {\r\n      const res = yield call(shop.getProducts);\r\n      //const { selected } = yield select();\r\n      \r\n      const checkAdult=(product)=> {\r\n        for(var s=0; s<size.length;s++){\r\n          for(var i=0;i<product.availableSizes.length;i++){\r\n            if (size[s]===product.availableSizes[i]){\r\n              return product;\r\n            }\r\n          }\r\n      }\r\n      };\r\n      const productSize=res.data.filter(checkAdult);\r\n      const changes=change\r\n      const products=res.data.filter(checkAdult);\r\n      yield put({\r\n          type: 'addToSize',\r\n          payload: {\r\n            size,\r\n            productSize,\r\n            changes,\r\n            products\r\n          }\r\n        })\r\n      \r\n    },\r\n    \r\n  },\r\n  reducers: {\r\n    addToSize: (state, { payload: { size,productSize ,changes,products} }) => {\r\n      return {\r\n        ...state,\r\n        size:size,\r\n        productSize:(changes==='default'?products:(changes==='Highest'?(productSize.sort((a, b)=>{return b.price - a.price})):(productSize.sort((a, b)=>{return a.price - b.price})))),\r\n        change:changes\r\n      }\r\n    },\r\n    \r\n  }\r\n};\r\n\r\n","import React from 'react';\nimport dva from 'dva';\nimport createLoading from 'dva-loading';\nimport App from './components/App';\nimport products from './models/products';\nimport cart from './models/cart';\nimport select from './models/select';\n\nconst app = dva();\napp.model(products);\napp.model(cart);\napp.model(select);\napp.use(createLoading());\napp.router(() => <App />);\napp.start('#root');\n"],"sourceRoot":""}